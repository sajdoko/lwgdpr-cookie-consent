function lwgdpr_store_settings_btn_click(e){document.getElementById("lwgdpr_update_action").value=e}function lwgdpr_print_value(e,t){var a=document.getElementById(e);document.getElementById(t).value=a.value}(function(e){"use strict";e(function(){function t(){"popup"==e('[name="cookie_bar_as_field"] option:selected').val()&&"true"==e('[name="popup_overlay_field"]:checked').val()&&"true"==e('[name="scroll_close_field"]:checked').val()?e(".lwgdpr_scroll_accept_er").show():e(".lwgdpr_scroll_accept_er").hide()}e(".lwgdpr-color-field").wpColorPicker();var a=e(".lwgdpr-cookie-consent-tab-head .nav-tab");if(a.length>0){a.click(function(){var t=e(this).attr("href");a.removeClass("nav-tab-active"),e(this).addClass("nav-tab-active"),t="#"==t.charAt(0)?t.substring(1):t;var i=e('div[data-id="'+t+'"]');e(".lwgdpr-cookie-consent-tab-content").hide(),i.length>0&&i.fadeIn()});var i=window.location.hash;if(""!=i){var n="#"==i.charAt(0)?i.substring(1):i;""!=n&&(e('div[data-id="'+n+'"]').show(),e('a[href="#'+n+'"]').addClass("nav-tab-active"))}else a.eq(0).click()}e(".lwgdpr_sub_tab li").click(function(){var t=e(this).attr("data-target"),a=e(this).parent(".lwgdpr_sub_tab"),i=a.siblings(".lwgdpr_sub_tab_container");a.find("li a").css({color:"#0073aa",cursor:"pointer"}),e(this).find("a").css({color:"unset",cursor:"default"}),i.find(".lwgdpr_sub_tab_content").hide(),i.find('.lwgdpr_sub_tab_content[data-id="'+t+'"]').fadeIn()}),e(".lwgdpr_sub_tab").each(function(){var t=e('input[name="lwgdpr_template"]').val(),a=e(".lwgdpr-cookie-consent-tab-head .nav-tab.nav-tab-active").html(),i=e(this).children("li").eq(0);"Design"==a&&t&&"none"!=t&&(i=e(this).children("li").eq(1)),i.click()}),e(".lwgdpr_cookie_sub_tab li").click(function(){var t=e(this).attr("data-target"),a=e(this).parent(".lwgdpr_cookie_sub_tab"),i=a.siblings(".lwgdpr_cookie_sub_tab_container");a.find("li a").css({color:"#0073aa",cursor:"pointer"}),e(this).find("a").css({color:"unset",cursor:"default"}),i.find(".lwgdpr_cookie_sub_tab_content").hide(),i.find('.lwgdpr_cookie_sub_tab_content[data-id="'+t+'"]').fadeIn()}),e(".lwgdpr_cookie_sub_tab").each(function(){e(this).children("li").eq(0).click()}),e(".lwgdpr_add_cookie").click(function(){e(".form-table.add-cookie").parent().find(".lwgdpr_postbar").hide(),e(".form-table.add-cookie").show(),e(".form-table.add-cookie").find('input[type="hidden"]').remove(),e(".form-table.add-cookie").append('<input type="hidden" name="lwgdpr_addcookie" value="1">')}),e(".lwgdpr_delete_cookie").click(function(){e(".form-table.add-cookie").find("input").val(""),e(".form-table.add-cookie").find('select[name="cookie_type_field"]').val("HTTP"),e(".form-table.add-cookie").find("textarea").val(""),e(".form-table.add-cookie").find('input[type="hidden"]').remove(),e(".form-table.add-cookie").parent().find(".lwgdpr_postbar").show(),e(".form-table.add-cookie").hide()}),e(document).on("change","#post_cookie_list .cookie-type-field",function(){var t=e(this).parents("table:first"),a=t.find('input[type="hidden"]').val();"HTTP"==e(this).find(":selected").val()?(t.find('input[name="cookie_duration_field_'+a+'"]').val(""),t.find('input[name="cookie_duration_field_'+a+'"]').removeAttr("disabled")):(t.find('input[name="cookie_duration_field_'+a+'"]').val("Persistent"),t.find('input[name="cookie_duration_field_'+a+'"]').attr("disabled","disabled"))}),e(".form-table.add-cookie").find(".cookie-type-field").on("change",function(){"HTTP"==e(this).find(":selected").val()?(e(".form-table.add-cookie").find('input[name="cookie_duration_field"]').val(""),e(".form-table.add-cookie").find('input[name="cookie_duration_field"]').removeAttr("disabled")):(e(".form-table.add-cookie").find('input[name="cookie_duration_field"]').val("Persistent"),e(".form-table.add-cookie").find('input[name="cookie_duration_field"]').attr("disabled","disabled"))}),e(document).on("click","#lwgdpr_export_settings",function(t){t.preventDefault();var a=new FormData;a.append("action","lwgdpr_export_settings"),a.append("security",lwgdpr_admin_ajax_object.security),e.ajax({url:ajaxurl,type:"POST",data:a,contentType:!1,cache:!1,processData:!1}).done(function(e){if(!0===e.success){var t=new Blob([JSON.stringify(e.data.settings)],{type:"application/json"}),a=URL.createObjectURL(t),i=document.createElement("a");i.href=a,i.download="lwgdpr_cookie_consent_settings.json",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a),lwgdpr_notify_msg.success(e.data.message)}else lwgdpr_notify_msg.error(e.data.message)}).fail(function(e){console.log(e),lwgdpr_notify_msg.error(e.statusText)})}),e(document).on("click","#lwgdpr_import_settings",function(t){t.preventDefault();var a=new FormData;a.append("action","lwgdpr_import_settings"),a.append("security",lwgdpr_admin_ajax_object.security),a.append("import_settings_json",e("#import_settings_json")[0].files[0]),e.ajax({url:ajaxurl,type:"POST",data:a,contentType:!1,processData:!1,success:function(e){e.success?(lwgdpr_notify_msg.success(e.data.message+", Reloading page in 2 seconds"),setTimeout(function(){window.location.reload()},2e3)):lwgdpr_notify_msg.error(e.data.message)}})}),e("#lwgdpr_settings_form").submit(function(t){var a=e("#lwgdpr_update_action").val();t.preventDefault();var i=e(this).serialize(),n=e(this).attr("action"),o=e(this).find(".spinner"),d=e(this).find('input[type="submit"]');o.css({visibility:"visible"}),d.css({opacity:".5",cursor:"default"}).prop("disabled",!0),e.ajax({url:n,type:"POST",data:i+"&lwgdpr_settings_ajax_update="+a,success:function(t){o.css({visibility:"hidden"}),d.css({opacity:"1",cursor:"pointer"}).prop("disabled",!1);var a=e('input[name="lwgdpr_template_updated"]').val();lwgdpr_notify_msg.success(lwgdpr_settings_success_message),e(".lwgdpr_bar_state tr").hide(),e('input[type="radio"].lwgdpr_bar_on').is(":checked")?e(".lwgdpr_bar_state tr.lwgdpr_bar_on").show():e(".lwgdpr_bar_state tr.lwgdpr_bar_off").show(),a&&"1"==a?setTimeout(function(){window.location.reload()},1e3):(e('input[name="lwgdpr_template"]').val("none"),e('select[name="banner_template_field"]').val("none"),e('select[name="popup_template_field"]').val("none"),e('select[name="widget_template_field"]').val("none"),e(".lwgdpr-template-type").hide())},error:function(){o.css({visibility:"hidden"}),d.css({opacity:"1",cursor:"pointer"}).prop("disabled",!1),lwgdpr_notify_msg.error(lwgdpr_settings_error_message)}})}),t(),e('[name="cookie_bar_as_field"]').change(function(){t()}),e('[name="popup_overlay_field"], [name="scroll_close_field"]').click(function(){t()});var o={set:function(){e("select.lwgdpr_tab_form_toggle").each(function(){o.toggle(e(this))}),e("select.lwgdpr_tab_form_toggle").change(function(){o.toggle(e(this))})},toggle:function(t){var a=t.val(),i=e(".lwgdpr-cookie-consent-tab-head");"lwgdpr"==a||"both"==a?(i.find("a[href='#lwgdpr-cookie-consent-cookie-list']").show(),i.find("a[href='#lwgdpr-cookie-consent-script-blocker']").show()):"ccpa"==a?(i.find("a[href='#lwgdpr-cookie-consent-cookie-list']").hide(),i.find("a[href='#lwgdpr-cookie-consent-script-blocker']").hide()):"eprivacy"==a&&(i.find("a[href='#lwgdpr-cookie-consent-cookie-list']").hide(),i.find("a[href='#lwgdpr-cookie-consent-script-blocker']").show());var n=t.attr("lwgdpr_tab_frm_tgl-target");e('[lwgdpr_tab_frm_tgl-id="'+n+'"]').hide(),e('[lwgdpr_tab_frm_tgl-id="'+n+'"]').filter(function(){return e('[lwgdpr_tab_frm_tgl-id="'+n+'"]')}).each(function(){var t=e(this).attr("data-id"),a=e("li[data-target='"+t+"']");"design-template"==t&&e("li[data-target='design-general']").trigger("click"),a.hide()}),e('[lwgdpr_tab_frm_tgl-id="'+n+'"]').filter(function(){return"both"==a?"lwgdpr"==e(this).attr("lwgdpr_tab_frm_tgl-val")||"ccpa"==e(this).attr("lwgdpr_tab_frm_tgl-val"):"eprivacy"==a?"eprivacy"==e(this).attr("lwgdpr_tab_frm_tgl-val1"):e(this).attr("lwgdpr_tab_frm_tgl-val")==a}).each(function(){var t=e(this).attr("data-id"),i=e("li[data-target='"+t+"']");i.show(),"both"==a&&"accept-button"==t||"lwgdpr"==a&&"accept-button"==t||"ccpa"==a&&"confirm-button"==t||"eprivacy"==a&&"accept-button"==t?(i.css("border-left","none"),i.css("padding-left","0px"),i.trigger("click")):(i.css("padding","3px 10px"),i.css("border-left","solid 1px #ccc"))})}};o.set();var d={set:function(){e(".lwgdpr-template-type").hide();var t=e('input[name="lwgdpr_template"]').val();e(".lwgdpr-template-type."+t).show(),e('select[name="banner_template_field"]').change(function(){var t=e(this).val();e('input[name="lwgdpr_template_updated"]').val("1"),e(".lwgdpr-template-type").hide(),e(".lwgdpr-template-type."+t).show()}),e('select[name="popup_template_field"]').change(function(){var t=e(this).val();e('input[name="lwgdpr_template_updated"]').val("1"),e(".lwgdpr-template-type").hide(),e(".lwgdpr-template-type."+t).show()}),e('select[name="widget_template_field"]').change(function(){var t=e(this).val();e('input[name="lwgdpr_template_updated"]').val("1"),e(".lwgdpr-template-type").hide(),e(".lwgdpr-template-type."+t).show()}),e("select.lwgdpr_form_toggle").each(function(){d.toggle(e(this))}),e('input[type="radio"].lwgdpr_form_toggle').each(function(){e(this).is(":checked")&&d.toggle(e(this))}),e("select.lwgdpr_form_toggle").change(function(){d.toggle(e(this))}),e('input[type="radio"].lwgdpr_form_toggle').click(function(){e(this).is(":checked")&&d.toggle(e(this))})},toggle:function(t){var a=t.val(),i=e('[lwgdpr_frm_tgl-val="'+a+'"] select[name="'+a+'_template_field"]').val();"banner"==a&&(e(".lwgdpr-template-type").hide(),e(".lwgdpr-template-type."+i).show()),"popup"==a&&(e(".lwgdpr-template-type").hide(),e(".lwgdpr-template-type."+i).show()),"widget"==a&&(e(".lwgdpr-template-type").hide(),e(".lwgdpr-template-type."+i).show());var n=t.attr("lwgdpr_frm_tgl-target");e('[lwgdpr_frm_tgl-id="'+n+'"]').hide(),e('[lwgdpr_frm_tgl-id="'+n+'"]').filter(function(){return"both"==a?"lwgdpr"==e(this).attr("lwgdpr_frm_tgl-val")||"ccpa"==e(this).attr("lwgdpr_frm_tgl-val"):"eprivacy"==a?"eprivacy"==e(this).attr("lwgdpr_frm_tgl-val1")||"eprivacy"==e(this).attr("lwgdpr_frm_tgl-val"):e(this).attr("lwgdpr_frm_tgl-val")==a}).show()}};d.set(),e(document).on("change",'input[name="is_eu_on_field"]',function(){"true"==this.value?e(".lwgdpr-maxmind-notice").show():"false"==e('input[name="is_ccpa_on_field"]:checked').val()&&e(".lwgdpr-maxmind-notice").hide()}),e(document).on("change",'input[name="is_ccpa_on_field"]',function(){"true"==this.value?e(".lwgdpr-maxmind-notice").show():"false"==e('input[name="is_eu_on_field"]:checked').val()&&e(".lwgdpr-maxmind-notice").hide()})})})(jQuery);var lwgdpr_notify_msg={error:function(e){var t=jQuery('<div class="notify_msg" style="background:#d9534f; border:solid 1px #dd431c;">'+e+"</div>");this.setNotify(t)},success:function(e){var t=jQuery('<div class="notify_msg" style="background:#5cb85c; border:solid 1px #2bcc1c;">'+e+"</div>");this.setNotify(t)},setNotify:function(e){jQuery("body").append(e),e.stop(!0,!0).animate({opacity:1,top:"50px"},1e3),setTimeout(function(){e.animate({opacity:0,top:"100px"},1e3,function(){e.remove()})},3e3)}};