!function(a){a(function(){var b={Set:function(){a(document).on("click",".update_admin_cookies",function(){var c=a(this).parents(".lwgdpr-cookie-consent-tab-content"),d=c.find(".lwgdpr_cookie_sub_tab_container .lwgdpr_cookie_sub_tab_content:visible"),e=d.data("id"),f="";if("custom-cookies"==e){var g=!1;f=d.find("#post_cookie_list");var h=f.children(".post-cookie-list"),i=Array();if(h.each(function(){var b=a(this).children(".right").eq(0),c=/^((http|https):\/\/)?([a-zA-Z0-9_][-_a-zA-Z0-9]{0,62}\.)+([a-zA-Z0-9]{1,10})$/gm,d=b.find('input[type="hidden"]').val(),e=b.find('input[name="cookie_name_field_'+d+'"]').val(),f=b.find('input[name="cookie_domain_field_'+d+'"]').val(),h=b.find('input[name="cookie_duration_field_'+d+'"]').val(),j=b.find('select[name="cookie_category_field_'+d+'"] :selected').val(),k=b.find('select[name="cookie_type_field_'+d+'"] :selected').val(),l=b.find('textarea[name="cookie_description_field_'+d+'"]').val();e||(lwgdpr_notify_msg.error("Please fill in these mandatory fields : Cookie Name"),b.find('input[name="cookie_name_field_'+d+'"]').focus(),g=!0),f?c.test(f)||(lwgdpr_notify_msg.error("Cookie Domain is not valid."),b.find('input[name="cookie_domain_field_'+d+'"]').focus(),g=!0):(lwgdpr_notify_msg.error("Please fill in these mandatory fields : Cookie Domain"),b.find('input[name="cookie_domain_field_'+d+'"]').focus(),g=!0),h||(lwgdpr_notify_msg.error("Please fill in these mandatory fields : Cookie Duration"),b.find('input[name="cookie_duration_field_'+d+'"]').focus(),g=!0);var m={cid:d,cname:e,cdomain:f,cduration:h,ccategory:j,ctype:k,cdesc:l};i.push(m)}),g)return!1;b.updatePostCookie(i)}}),a(document).on("click",".lwgdpr_delete_post_cookie",function(){var c=a(this).parents("div.post-cookie-list"),d=c.find('input[type="hidden"]').val();b.deletePostCookie(d)}),a(".lwgdpr_save_cookie").click(function(){var c=a(this).parents("div.add-cookie");if(1==c.find('input[name="lwgdpr_addcookie"]').val()){var d=/^((http|https):\/\/)?([a-zA-Z0-9_][-_a-zA-Z0-9]{0,62}\.)+([a-zA-Z0-9]{1,10})$/gm,e=c.find('input[name="cookie_name_field"]').val(),f=c.find('input[name="cookie_domain_field"]').val(),g=c.find('input[name="cookie_duration_field"]').val(),h=c.find('select[name="cookie_category_field"] :selected').val(),i=c.find('select[name="cookie_type_field"] :selected').val(),j=c.find('textarea[name="cookie_description_field"]').val();if(!e)return lwgdpr_notify_msg.error("Please fill in these mandatory fields : Cookie Name"),c.find('input[name="cookie_name_field"]').focus(),!1;if(!f)return lwgdpr_notify_msg.error("Please fill in these mandatory fields : Cookie Domain"),c.find('input[name="cookie_domain_field"]').focus(),!1;if(!d.test(f))return lwgdpr_notify_msg.error("Cookie domain is not valid."),c.find('input[name="cookie_domain_field"]').focus(),!1;if(!g)return lwgdpr_notify_msg.error("Please fill in these mandatory fields : Cookie Duration"),c.find('input[name="cookie_duration_field"]').focus(),!1;var k={cname:e,cdomain:f,cduration:g,ccategory:h,ctype:i,cdesc:j}}b.savePostCookie(k)})},deletePostCookie:function(c){var d={action:"lwgdpr_cookie_custom",security:gdprcookieconsent_cookie_custom.nonces.lwgdpr_cookie_custom,lwgdpr_custom_action:"delete_post_cookie",cookie_id:c};a.ajax({url:gdprcookieconsent_cookie_custom.ajax_url,data:d,dataType:"json",type:"POST",success:function(a){!0===a.response?(lwgdpr_notify_msg.success(a.message),b.showPostCookieList()):lwgdpr_notify_msg.error(a.message)},error:function(){lwgdpr_notify_msg.error(d.message)}})},updatePostCookie:function(c){var d={action:"lwgdpr_cookie_custom",security:gdprcookieconsent_cookie_custom.nonces.lwgdpr_cookie_custom,lwgdpr_custom_action:"update_post_cookie",cookie_arr:c};a.ajax({url:gdprcookieconsent_cookie_custom.ajax_url,data:d,dataType:"json",type:"POST",success:function(a){!0===a.response?(lwgdpr_notify_msg.success(a.message),b.showPostCookieList()):lwgdpr_notify_msg.error(a.message)},error:function(){lwgdpr_notify_msg.error(d.message)}})},savePostCookie:function(c){var d={action:"lwgdpr_cookie_custom",security:gdprcookieconsent_cookie_custom.nonces.lwgdpr_cookie_custom,lwgdpr_custom_action:"save_post_cookie",cookie_arr:c};a.ajax({url:gdprcookieconsent_cookie_custom.ajax_url,data:d,dataType:"json",type:"POST",success:function(a){!0===a.response?(lwgdpr_notify_msg.success(a.message),b.hideCookieForm(),b.showPostCookieList()):lwgdpr_notify_msg.error(a.message)},error:function(){lwgdpr_notify_msg.error(d.message)}})},hideCookieForm:function(){a(".form-table.add-cookie").find("input").val(""),a(".form-table.add-cookie").find("select").val(""),a(".form-table.add-cookie").find("textarea").val(""),a(".form-table.add-cookie").find('input[type="hidden"]').remove(),a(".form-table.add-cookie").parent().find(".lwgdpr_postbar").show(),a(".form-table.add-cookie").hide()},showPostCookieList:function(){var c={action:"lwgdpr_cookie_custom",security:gdprcookieconsent_cookie_custom.nonces.lwgdpr_cookie_custom,lwgdpr_custom_action:"post_cookie_list"},d=a("#post_cookie_list");a.ajax({url:gdprcookieconsent_cookie_custom.ajax_url,data:c,dataType:"json",type:"POST",success:function(a){!0===a.response?d.html(a.content):b.serverUnavailable(d,a.message)},error:function(){b.showErrorScreen(gdprcookieconsent_cookie_custom.labels.error)}})}};b.Set()})}(jQuery);